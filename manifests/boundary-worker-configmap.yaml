apiVersion: v1
kind: ConfigMap
metadata:
  name: boundary-worker-config
  namespace: aniket-test
data:
  boundary-worker.hcl: |
    disable_mlock = true

    worker {
      initial_upstreams = ["boundary:9201"]

      tls_disable = true   # âœ… REQUIRED FOR v0.21 (THIS FIXES THE ERROR)

      auth_storage_path = "/boundary/auth"

      # ACTIVATION TOKEN (one-time use)
      controller_generated_activation_token = "neslat_2KqRvXfxJAm5oJu43bnpJK1a1dwQ7sAHARUKiuHz8QKYDCE5AwkBm2bTS3LgWN4jutyJPDN6g7ckZaNBwWnyF7tAnXHd6"
    }

    listener "tcp" {
      address = "0.0.0.0:9202"
      purpose = "proxy"
    }
